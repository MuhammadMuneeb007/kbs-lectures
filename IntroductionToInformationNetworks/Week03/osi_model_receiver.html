<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSI Model Receiver - Data Reception Process</title>
    <link rel="stylesheet" href="osi_model_styles.css">
    <style>
        /* Ensure basic visibility */
        body {
            display: block !important;
            visibility: visible !important;
        }
        .slideshow-container {
            display: block !important;
            visibility: visible !important;
        }
        /* Force first slide to show even if JavaScript fails */
        .slide:first-of-type {
            display: block !important;
        }
    </style>
</head>
<body>
    <div class="slideshow-container">
        <!-- Header -->
        <div class="header">
            <h1 class="title">OSI Model Receiver - Data Reception Process</h1>
            <p>Explore how your "<span id="config-message">Hi</span>" message is received and processed through all 7 layers</p>
        </div>

        <!-- Enhanced Controls Panel -->
        <div class="controls-panel">
            <h3>üéõÔ∏è Configuration Panel - Customize Your Data Journey</h3>
            <div class="control-group">
                <div class="control-item">
                    <label for="userMessage">Your Message:</label>
                    <input type="text" id="userMessage" value="Hi" placeholder="Enter your message">
                </div>
                <div class="control-item">
                    <label for="protocol"><span class="tooltip" data-tooltip="Application layer protocols define how applications communicate over the network.">Application Protocol</span>:</label>
                    <select id="protocol">
                        <option value="smtp"><span class="tooltip" data-tooltip="Simple Mail Transfer Protocol for sending email messages.">SMTP (Email)</span></option>
                        <option value="http"><span class="tooltip" data-tooltip="HyperText Transfer Protocol for web page delivery.">HTTP (Web)</span></option>
                        <option value="ftp"><span class="tooltip" data-tooltip="File Transfer Protocol for uploading and downloading files.">FTP (File Transfer)</span></option>
                        <option value="dns"><span class="tooltip" data-tooltip="Domain Name System for translating domain names to IP addresses.">DNS (Name Resolution)</span></option>
                    </select>
                </div>
                <div class="control-item">
                    <label for="encryption"><span class="tooltip" data-tooltip="Security protocols encrypt data to protect it from unauthorized access during transmission.">Security Layer</span>:</label>
                    <select id="encryption">
                        <option value="tls12"><span class="tooltip" data-tooltip="Transport Layer Security version 1.2 - widely used encryption standard.">TLS 1.2</span></option>
                        <option value="tls13"><span class="tooltip" data-tooltip="Transport Layer Security version 1.3 - latest encryption standard with improved security.">TLS 1.3</span></option>
                        <option value="ssl3"><span class="tooltip" data-tooltip="Secure Sockets Layer version 3.0 - older encryption standard, now deprecated.">SSL 3.0</span></option>
                        <option value="none">No Encryption</option>
                    </select>
                </div>
                <div class="control-item">
                    <label for="transport"><span class="tooltip" data-tooltip="Transport protocols handle end-to-end communication between applications.">Transport Protocol</span>:</label>
                    <select id="transport">
                        <option value="tcp"><span class="tooltip" data-tooltip="Transmission Control Protocol provides reliable, ordered data delivery.">TCP (Reliable)</span></option>
                        <option value="udp"><span class="tooltip" data-tooltip="User Datagram Protocol provides fast, connectionless data delivery.">UDP (Fast)</span></option>
                    </select>
                </div>
                <div class="control-item">
                    <label for="sourceIP"><span class="tooltip" data-tooltip="Source IP address identifies the sending device on the network.">Source IP</span>:</label>
                    <input type="text" id="sourceIP" value="192.168.1.100">
                </div>
                <div class="control-item">
                    <label for="destIP"><span class="tooltip" data-tooltip="Destination IP address identifies the receiving device on the network.">Destination IP</span>:</label>
                    <input type="text" id="destIP" value="74.125.224.108">
                </div>
                <div class="control-item">
                    <label for="medium"><span class="tooltip" data-tooltip="Physical transmission medium carries the actual signals between devices.">Physical Medium</span>:</label>
                    <select id="medium">
                        <option value="ethernet"><span class="tooltip" data-tooltip="Ethernet cables use copper wires to transmit electrical signals.">Ethernet Cable</span></option>
                        <option value="wifi"><span class="tooltip" data-tooltip="Wi-Fi uses radio waves to transmit data wirelessly.">Wi-Fi</span></option>
                        <option value="fiber"><span class="tooltip" data-tooltip="Fiber optic cables use light pulses to transmit data at high speeds.">Fiber Optic</span></option>
                        <option value="cellular"><span class="tooltip" data-tooltip="5G cellular networks use radio frequencies for mobile data transmission.">5G Cellular</span></option>
                    </select>
                </div>
                <div class="control-item">
                    <label for="networkSize"><span class="tooltip" data-tooltip="Network type describes the geographic scope and architecture of the network.">Network Type</span>:</label>
                    <select id="networkSize">
                        <option value="wan"><span class="tooltip" data-tooltip="Wide Area Network covers large geographic areas, like the Internet.">WAN (Internet)</span></option>
                        <option value="lan"><span class="tooltip" data-tooltip="Local Area Network covers a small area like a building or campus.">LAN (Local)</span></option>
                        <option value="man"><span class="tooltip" data-tooltip="Metropolitan Area Network covers a city or metropolitan area.">MAN (Metro)</span></option>
                    </select>
                </div>
            </div>
            <button class="update-btn" id="updateBtn">üîÑ Update Configuration</button>
            
            <div style="margin-top: 15px; padding: 15px; background: #e3f2fd; border-radius: 6px;">
                <strong>Current Stack:</strong> <span id="config-stack">SMTP/TLS 1.2/TCP/IP/Ethernet</span><br>
                <strong>Security:</strong> <span id="config-security">TLS 1.2 Encrypted</span><br>
                <strong>Route:</strong> <span id="config-source">192.168.1.100</span> ‚Üí <span id="config-dest">74.125.224.108</span><br>
                <strong>Overhead Preview:</strong> <span id="overhead-preview">147:1</span>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div class="slide-counter">
            Slide <span id="current-slide">1</span> of <span id="total-slides">8</span>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <button class="nav-btn" id="prevBtn">‚¨ÖÔ∏è Previous</button>
            <button class="nav-btn restart">üîÑ Restart</button>
            <button class="nav-btn" id="nextBtn">Next ‚û°Ô∏è</button>
        </div>

        <!-- Slide 1: Physical Layer Reception -->
        <div class="slide active" style="display: block;">
            <h2>Layer 1: <span class="tooltip" data-tooltip="The Physical Layer at the destination converts received electrical signals back into digital bits.">Physical Layer Reception</span> - Signal Reception</h2>
            
            <div class="process-indicator">
                üì• RECEPTION: Converting Physical Signals to Digital Bits
            </div>
            
            <div class="data-flow-diagram">
                <div class="layer-visualization">
                    <div class="layer-box layer-1 active">Physical<br>Layer 1</div>
                    <div class="data-representation">
                        <div class="header-section">‚ö° <span class="tooltip" data-tooltip="Physical signal reception involves detecting and converting electrical signals back into digital data.">Signal Reception</span> - Decoding Electrical Signals</div>
                        <div class="binary-data"><span class="tooltip" data-tooltip="Received electrical signals are decoded back into binary format using Manchester decoding.">Signal Decoded</span>: ‚ö°+2.5V ‚Üí 1, ‚ö°-2.5V ‚Üí 0</div>
                        <div class="hex-data"><span class="tooltip" data-tooltip="Authentication tag verification ensures data integrity and authenticity.">Auth Check</span>: GMAC tag verified</div>
                        <div class="data-section">üì° Converting <span class="tooltip" data-tooltip="Electrical signals received over the transmission medium.">electrical signals</span> to bits</div>
                    </div>
                </div>
            </div>

            <div class="packet-visualization">
                <h4>‚ö° Complete Signal Reception Structure</h4>
                <div class="complete-packet-view">
                    <div class="packet-layer layer-1-packet">
                        <div class="layer-header">
                            <span class="layer-name">‚ö° Physical Layer Reception</span>
                            <span class="layer-size">294 bytes received</span>
                        </div>
                        <div class="header-details">
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Clock recovery extracts timing information from the received signal for proper bit detection.">Clock Recovery</span>:</span>
                                <span class="field-value">1 GHz synchronized</span>
                                <span class="field-size">Timing</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Signal level detection determines binary values from voltage levels.">Signal Detection</span>:</span>
                                <span class="field-value">¬±2.5V threshold</span>
                                <span class="field-size">Amplitude</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Error correction at physical layer corrects transmission errors.">Error Correction</span>:</span>
                                <span class="field-value">FEC decoded</span>
                                <span class="field-size">8 bytes processed</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Frame synchronization detects the start and end of Ethernet frames.">Frame Sync</span>:</span>
                                <span class="field-value">Preamble detected</span>
                                <span class="field-size">7 bytes</span>
                            </div>
                        </div>
                    </div>
                    <div class="packet-layer layer-2-1-packet">
                        <div class="layer-header">
                            <span class="layer-name">üì¶ Recovered Ethernet Frame</span>
                            <span class="layer-size">274 bytes</span>
                        </div>
                        <div class="payload-content">
                            <div class="payload-section">
                                <span class="tooltip" data-tooltip="Complete Ethernet frame ready for Data Link Layer processing.">Ethernet Frame ‚Üí Data Link Layer</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="packet-total">
                    <strong>Physical Layer Output:</strong> <span>274 bytes</span>
                    <span class="breakdown">(Ethernet frame ready for Layer 2 processing)</span>
                </div>
            </div>

            <div class="explanation-box">
                <h4>‚ö° Physical Reception Process</h4>
                <p><strong><span class="tooltip" data-tooltip="Clock recovery synchronizes the receiver's timing with the transmitted signal.">Clock Recovery</span>:</strong> Extracts timing information from the signal for bit detection.</p>
                <p><strong><span class="tooltip" data-tooltip="Signal sampling converts analog voltage levels back into digital binary values.">Signal Sampling</span>:</strong> Converts voltage levels back to binary digits (1s and 0s).</p>
                <p><strong><span class="tooltip" data-tooltip="Frame boundary detection identifies where each Ethernet frame begins and ends.">Frame Detection</span>:</strong> Identifies frame boundaries using preamble and start delimiter.</p>
                <p><strong><span class="tooltip" data-tooltip="Physical layer error correction fixes transmission errors before passing data to upper layers.">Error Correction</span>:</strong> Applies forward error correction to fix transmission errors.</p>
            </div>

            <div class="size-indicator">
                üì• Received: <span>274 bytes</span> ‚Üí Passing to Data Link Layer
            </div>
        </div>

        <!-- Slide 2: Data Link Layer Reception -->
        <div class="slide">
            <h2>Layer 2: <span class="tooltip" data-tooltip="The Data Link Layer at the destination processes Ethernet frames and extracts IP packets.">Data Link Layer Reception</span> - Frame Processing</h2>
            
            <div class="process-indicator">
                üì• RECEPTION: Processing Ethernet Frame
            </div>
            
            <div class="data-flow-diagram">
                <div class="layer-visualization">
                    <div class="layer-box layer-2 active">Data Link<br>Layer 2</div>
                    <div class="data-representation">
                        <div class="header-section">üîó <span class="tooltip" data-tooltip="Ethernet frame processing includes MAC address checking, error detection, and payload extraction.">Ethernet Processing</span> - Removing Frame Headers</div>
                        <div class="binary-data"><span class="tooltip" data-tooltip="MAC address verification ensures the frame is intended for this device.">MAC Check</span>: Destination MAC matches interface</div>
                        <div class="hex-data"><span class="tooltip" data-tooltip="CRC-32 verification ensures the frame was received without errors.">CRC-32 Check</span>: Frame integrity verified</div>
                        <div class="data-section">üéØ Frame accepted, extracting <span class="tooltip" data-tooltip="IP packet extracted from the Ethernet frame payload.">IP packet (256 bytes)</span></div>
                    </div>
                </div>
            </div>

            <div class="packet-visualization">
                <h4>üîó Ethernet Frame Processing</h4>
                <div class="complete-packet-view">
                    <div class="packet-layer layer-2-packet">
                        <div class="layer-header">
                            <span class="layer-name">üîó Data Link Layer Processing</span>
                            <span class="layer-size">18 bytes removed</span>
                        </div>
                        <div class="header-details">
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Destination MAC address verification - must match this device's MAC address.">Dest MAC Check</span>:</span>
                                <span class="field-value">‚úì 00:1B:44:11:3A:B7</span>
                                <span class="field-size">Match</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Source MAC address identifies the sending device on the local network.">Source MAC</span>:</span>
                                <span class="field-value">00:24:D7:23:9C:85</span>
                                <span class="field-size">Sender ID</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="EtherType field indicates the payload contains an IPv4 packet.">EtherType</span>:</span>
                                <span class="field-value">0x0800 (IPv4)</span>
                                <span class="field-size">Protocol ID</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="CRC-32 checksum verification ensures frame integrity during transmission.">CRC-32 Check</span>:</span>
                                <span class="field-value">‚úì Verified</span>
                                <span class="field-size">No errors</span>
                            </div>
                        </div>
                    </div>
                    <div class="packet-layer layer-3-2-packet">
                        <div class="layer-header">
                            <span class="layer-name">üì¶ Extracted IP Packet</span>
                            <span class="layer-size">256 bytes</span>
                        </div>
                        <div class="payload-content">
                            <div class="payload-section">
                                <span class="tooltip" data-tooltip="IP packet ready for Network Layer processing.">IP Packet ‚Üí Network Layer</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="packet-total">
                    <strong>Data Link Output:</strong> <span>256 bytes</span>
                    <span class="breakdown">(Ethernet headers removed, IP packet extracted)</span>
                </div>
            </div>

            <div class="explanation-box">
                <h4>üîó Frame Processing Steps</h4>
                <p><strong><span class="tooltip" data-tooltip="MAC address filtering ensures only frames destined for this device are processed.">Address Filtering</span>:</strong> Checks if destination MAC matches this device's address.</p>
                <p><strong><span class="tooltip" data-tooltip="Error detection using CRC-32 verifies frame was received without corruption.">Error Detection</span>:</strong> Verifies CRC-32 checksum to ensure frame integrity.</p>
                <p><strong><span class="tooltip" data-tooltip="Protocol identification determines how to process the frame payload.">Protocol Identification</span>:</strong> Examines EtherType to determine payload protocol.</p>
                <p><strong><span class="tooltip" data-tooltip="Header removal strips Ethernet headers to extract the network layer payload.">Header Removal</span>:</strong> Removes Ethernet headers and passes payload to Network Layer.</p>
            </div>

            <div class="size-indicator">
                üì• Processed: <span>274 bytes</span> ‚Üí Output: <span>256 bytes</span> (18 bytes frame overhead removed)
            </div>
        </div>

        <!-- Slide 3: Network Layer Reception -->
        <div class="slide">
            <h2>Layer 3: <span class="tooltip" data-tooltip="The Network Layer at the destination processes IP packets and extracts transport layer segments.">Network Layer Reception</span> - IP Packet Processing</h2>
            
            <div class="process-indicator">
                üì• RECEPTION: Processing IP Packet
            </div>
            
            <div class="data-flow-diagram">
                <div class="layer-visualization">
                    <div class="layer-box layer-3 active">Network<br>Layer 3</div>
                    <div class="data-representation">
                        <div class="header-section">üó∫Ô∏è <span class="tooltip" data-tooltip="IP packet processing includes address verification, header validation, and payload extraction.">IP Processing</span> - Removing IP Headers</div>
                        <div class="binary-data"><span class="tooltip" data-tooltip="Destination IP verification ensures the packet is meant for this device.">IP Check</span>: Destination matches this host</div>
                        <div class="hex-data"><span class="tooltip" data-tooltip="IP header checksum verification ensures packet integrity.">Checksum</span>: IP header verified</div>
                        <div class="data-section">üéØ Packet accepted, extracting <span class="tooltip" data-tooltip="TCP segment extracted from the IP packet payload.">TCP segment (236 bytes)</span></div>
                    </div>
                </div>
            </div>

            <div class="packet-visualization">
                <h4>üó∫Ô∏è IP Packet Processing</h4>
                <div class="complete-packet-view">
                    <div class="packet-layer layer-3-packet">
                        <div class="layer-header">
                            <span class="layer-name">üó∫Ô∏è Network Layer Processing</span>
                            <span class="layer-size">20 bytes removed</span>
                        </div>
                        <div class="header-details">
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Destination IP verification - must match this device's IP address.">Dest IP Check</span>:</span>
                                <span class="field-value">‚úì 74.125.224.108</span>
                                <span class="field-size">Match</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Source IP identifies the sending device for return communication.">Source IP</span>:</span>
                                <span class="field-value">192.168.1.100</span>
                                <span class="field-size">Sender ID</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Protocol field indicates the payload contains a TCP segment.">Protocol</span>:</span>
                                <span class="field-value">6 (TCP)</span>
                                <span class="field-size">Next layer</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="TTL shows remaining hop count after network traversal.">TTL Remaining</span>:</span>
                                <span class="field-value">58 hops</span>
                                <span class="field-size">Decremented</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Header checksum verification ensures IP header integrity.">Checksum</span>:</span>
                                <span class="field-value">‚úì Valid</span>
                                <span class="field-size">Verified</span>
                            </div>
                        </div>
                    </div>
                    <div class="packet-layer layer-4-3-packet">
                        <div class="layer-header">
                            <span class="layer-name">üì¶ Extracted TCP Segment</span>
                            <span class="layer-size">236 bytes</span>
                        </div>
                        <div class="payload-content">
                            <div class="payload-section">
                                <span class="tooltip" data-tooltip="TCP segment ready for Transport Layer processing.">TCP Segment ‚Üí Transport Layer</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="packet-total">
                    <strong>Network Layer Output:</strong> <span>236 bytes</span>
                    <span class="breakdown">(IP headers removed, TCP segment extracted)</span>
                </div>
            </div>

            <div class="explanation-box">
                <h4>üó∫Ô∏è IP Processing Steps</h4>
                <p><strong><span class="tooltip" data-tooltip="Address validation ensures the packet is destined for this device.">Address Validation</span>:</strong> Verifies destination IP matches this host's address.</p>
                <p><strong><span class="tooltip" data-tooltip="Header validation checks IP version, length, and checksum for correctness.">Header Validation</span>:</strong> Checks IP version, header length, and checksum.</p>
                <p><strong><span class="tooltip" data-tooltip="TTL processing shows the packet's remaining network traversal capability.">TTL Processing</span>:</strong> Notes packet's journey through network infrastructure.</p>
                <p><strong><span class="tooltip" data-tooltip="Protocol demultiplexing directs the payload to the appropriate transport protocol.">Protocol Demux</span>:</strong> Identifies transport protocol and passes payload accordingly.</p>
            </div>

            <div class="size-indicator">
                üì• Processed: <span>256 bytes</span> ‚Üí Output: <span>236 bytes</span> (20 bytes IP overhead removed)
            </div>
        </div>

        <!-- Slide 4: Transport Layer Reception -->
        <div class="slide">
            <h2>Layer 4: <span class="tooltip" data-tooltip="The Transport Layer at the destination processes TCP segments and extracts application data.">Transport Layer Reception</span> - TCP Segment Processing</h2>
            
            <div class="process-indicator">
                üì• RECEPTION: Processing TCP Segment
            </div>
            
            <div class="data-flow-diagram">
                <div class="layer-visualization">
                    <div class="layer-box layer-4 active">Transport<br>Layer 4</div>
                    <div class="data-representation">
                        <div class="header-section">üöö <span class="tooltip" data-tooltip="TCP segment processing includes port verification, sequence checking, and reliability handling.">TCP Processing</span> - Removing TCP Headers</div>
                        <div class="binary-data"><span class="tooltip" data-tooltip="Port verification ensures the segment is for the correct application service.">Port Check</span>: Destination port 587 (SMTP)</div>
                        <div class="hex-data"><span class="tooltip" data-tooltip="TCP checksum verification ensures segment integrity.">Checksum</span>: TCP segment verified</div>
                        <div class="data-section">üéØ Segment accepted, extracting <span class="tooltip" data-tooltip="Application data extracted from TCP payload.">application data (216 bytes)</span></div>
                    </div>
                </div>
            </div>

            <div class="packet-visualization">
                <h4>üöö TCP Segment Processing</h4>
                <div class="complete-packet-view">
                    <div class="packet-layer layer-4-packet">
                        <div class="layer-header">
                            <span class="layer-name">üöö Transport Layer Processing</span>
                            <span class="layer-size">20 bytes removed</span>
                        </div>
                        <div class="header-details">
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Destination port verification - must match the listening SMTP service.">Dest Port Check</span>:</span>
                                <span class="field-value">‚úì 587 (SMTP)</span>
                                <span class="field-size">Service match</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Source port identifies the client application for response.">Source Port</span>:</span>
                                <span class="field-value">49152</span>
                                <span class="field-size">Client ID</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Sequence number verification ensures proper data ordering.">Sequence Check</span>:</span>
                                <span class="field-value">‚úì In order</span>
                                <span class="field-size">Verified</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Acknowledgment processing for reliability assurance.">ACK Processing</span>:</span>
                                <span class="field-value">ACK sent</span>
                                <span class="field-size">Confirmed</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="TCP checksum verification ensures segment integrity.">Checksum</span>:</span>
                                <span class="field-value">‚úì Valid</span>
                                <span class="field-size">No errors</span>
                            </div>
                        </div>
                    </div>
                    <div class="packet-layer layer-6-5-packet">
                        <div class="layer-header">
                            <span class="layer-name">üì¶ Extracted Application Data</span>
                            <span class="layer-size">216 bytes</span>
                        </div>
                        <div class="payload-content">
                            <div class="payload-section">
                                <span class="tooltip" data-tooltip="Session and application data ready for upper layer processing.">Session + TLS + SMTP ‚Üí Session Layer</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="packet-total">
                    <strong>Transport Layer Output:</strong> <span>216 bytes</span>
                    <span class="breakdown">(TCP headers removed, application data extracted)</span>
                </div>
            </div>

            <div class="explanation-box">
                <h4>üöö TCP Processing Steps</h4>
                <p><strong><span class="tooltip" data-tooltip="Port demultiplexing directs the segment to the correct application service.">Port Demultiplexing</span>:</strong> Routes segment to correct application based on destination port.</p>
                <p><strong><span class="tooltip" data-tooltip="Reliability processing handles acknowledgments and ensures data integrity.">Reliability Processing</span>:</strong> Handles acknowledgments, checksums, and flow control.</p>
                <p><strong><span class="tooltip" data-tooltip="Sequence validation ensures data segments are processed in correct order.">Sequence Validation</span>:</strong> Verifies data is received in correct order.</p>
                <p><strong><span class="tooltip" data-tooltip="Data extraction removes TCP headers and passes payload to upper layers.">Data Extraction</span>:</strong> Removes TCP headers and passes data to Session Layer.</p>
            </div>

            <div class="size-indicator">
                üì• Processed: <span>236 bytes</span> ‚Üí Output: <span>216 bytes</span> (20 bytes TCP overhead removed)
            </div>
        </div>

        <!-- Slide 5: Session Layer Reception -->
        <div class="slide">
            <h2>Layer 5: <span class="tooltip" data-tooltip="The Session Layer at the destination manages session state and extracts presentation layer data.">Session Layer Reception</span> - Session Management</h2>
            
            <div class="process-indicator">
                üì• RECEPTION: Processing Session Control
            </div>
            
            <div class="data-flow-diagram">
                <div class="layer-visualization">
                    <div class="layer-box layer-5 active">Session<br>Layer 5</div>
                    <div class="data-representation">
                        <div class="header-section">üéõÔ∏è <span class="tooltip" data-tooltip="Session processing includes state management, sequence tracking, and session control.">Session Processing</span> - Managing Communication Context</div>
                        <div class="binary-data"><span class="tooltip" data-tooltip="Session ID verification ensures proper conversation context.">Session Check</span>: Session SESS_789ABC123 active</div>
                        <div class="hex-data"><span class="tooltip" data-tooltip="Sequence validation maintains proper message ordering within the session.">Sequence</span>: Message 0x0001 received</div>
                        <div class="data-section">üéØ Session valid, extracting <span class="tooltip" data-tooltip="TLS encrypted data ready for decryption.">TLS data (208 bytes)</span></div>
                    </div>
                </div>
            </div>

            <div class="packet-visualization">
                <h4>üéõÔ∏è Session Control Processing</h4>
                <div class="complete-packet-view">
                    <div class="packet-layer layer-5-packet">
                        <div class="layer-header">
                            <span class="layer-name">üéõÔ∏è Session Layer Processing</span>
                            <span class="layer-size">8 bytes removed</span>
                        </div>
                        <div class="header-details">
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Session ID validation ensures continuity of the communication session.">Session ID Check</span>:</span>
                                <span class="field-value">‚úì SESS_789ABC123</span>
                                <span class="field-size">Valid</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Sequence number tracking maintains message order within the session.">Sequence Tracking</span>:</span>
                                <span class="field-value">0x0001 received</span>
                                <span class="field-size">In order</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Session state verification confirms the session is in data transfer mode.">State Check</span>:</span>
                                <span class="field-value">DATA_TRANSFER</span>
                                <span class="field-size">Active</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Checkpoint processing for session recovery capabilities.">Checkpoint</span>:</span>
                                <span class="field-value">Updated</span>
                                <span class="field-size">Saved</span>
                            </div>
                        </div>
                    </div>
                    <div class="packet-layer layer-6-packet encrypted">
                        <div class="layer-header">
                            <span class="layer-name">üì¶ Extracted TLS Data</span>
                            <span class="layer-size">208 bytes</span>
                        </div>
                        <div class="payload-content">
                            <div class="payload-section">
                                <span class="tooltip" data-tooltip="Encrypted TLS record ready for decryption at Presentation Layer.">TLS Record ‚Üí Presentation Layer</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="packet-total">
                    <strong>Session Layer Output:</strong> <span>208 bytes</span>
                    <span class="breakdown">(Session headers removed, TLS data extracted)</span>
                </div>
            </div>

            <div class="explanation-box">
                <h4>üéõÔ∏è Session Processing Steps</h4>
                <p><strong><span class="tooltip" data-tooltip="Session validation ensures the communication belongs to an active session.">Session Validation</span>:</strong> Verifies session ID and maintains conversation context.</p>
                <p><strong><span class="tooltip" data-tooltip="State management tracks the current phase of the communication session.">State Management</span>:</strong> Tracks session state and handles transitions.</p>
                <p><strong><span class="tooltip" data-tooltip="Sequence control ensures messages are processed in the correct order.">Sequence Control</span>:</strong> Maintains proper message ordering within session.</p>
                <p><strong><span class="tooltip" data-tooltip="Checkpoint management enables recovery if the session is interrupted.">Checkpoint Management</span>:</strong> Updates recovery points for session continuity.</p>
            </div>

            <div class="size-indicator">
                üì• Processed: <span>216 bytes</span> ‚Üí Output: <span>208 bytes</span> (8 bytes session overhead removed)
            </div>
        </div>

        <!-- Slide 6: Presentation Layer Reception -->
        <div class="slide">
            <h2>Layer 6: <span class="tooltip" data-tooltip="The Presentation Layer at the destination decrypts TLS data and decompresses it to restore the original application message.">Presentation Layer Reception</span> - Decryption & Decompression</h2>
            
            <div class="process-indicator">
                üì• RECEPTION: <span class="tooltip" data-tooltip="First decrypt using TLS, then decompress using GZIP - the reverse of the transmission process.">Decryption ‚Üí Decompression</span>
            </div>
            
            <div class="data-flow-diagram">
                <div class="layer-visualization">
                    <div class="layer-box layer-6 active">Presentation<br>Layer 6</div>
                    <div class="data-representation">
                        <div class="header-section">üîê <span class="tooltip" data-tooltip="TLS decryption restores the compressed data from encrypted ciphertext using symmetric keys.">TLS Decryption</span> (-28 bytes)</div>
                        <div class="header-section">üì¶ <span class="tooltip" data-tooltip="GZIP decompression expands the compressed data back to its original size.">GZIP Decompression</span> (+35 bytes)</div>
                        <div class="binary-data">Net Result: <span class="tooltip" data-tooltip="Combined decryption and decompression restores original data size.">+7 bytes restored</span></div>
                        <div class="hex-data">Process: <span class="tooltip" data-tooltip="173 bytes decrypted to 145 bytes, then decompressed to 180 bytes original size.">173‚Üí145‚Üí180 bytes</span></div>
                        <div class="data-section">üîì <span class="tooltip" data-tooltip="SMTP data fully restored through decryption and decompression.">Decrypted & Decompressed SMTP</span></div>
                    </div>
                </div>
            </div>

            <div class="packet-visualization">
                <h4>üîêüì¶ Complete Presentation Layer Processing</h4>
                <div class="complete-packet-view">
                    <!-- Step 1: TLS Decryption -->
                    <div class="packet-layer layer-6-packet">
                        <div class="layer-header">
                            <span class="layer-name">üîê Step 1: TLS Decryption</span>
                            <span class="layer-size">-28 bytes removed</span>
                        </div>
                        <div class="header-details">
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="TLS record type verification ensures proper processing of application data.">Record Type</span>:</span>
                                <span class="field-value">‚úì Application Data</span>
                                <span class="field-size">Verified</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="TLS version compatibility check ensures proper decryption method.">Version Check</span>:</span>
                                <span class="field-value">TLS 1.2</span>
                                <span class="field-size">Compatible</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Session key retrieval for symmetric decryption of the payload.">Session Key</span>:</span>
                                <span class="field-value">Retrieved</span>
                                <span class="field-size">256-bit AES</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Initialization vector used for AES-GCM decryption process.">IV Processing</span>:</span>
                                <span class="field-value">A1B2C3D4E5F6789A1B2C</span>
                                <span class="field-size">12 bytes</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="GMAC authentication tag verification ensures data integrity.">Auth Tag Check</span>:</span>
                                <span class="field-value">‚úì Verified</span>
                                <span class="field-size">Authentic</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Successfully decrypted compressed SMTP data.">Decrypted Output</span>:</span>
                                <span class="field-value">145 bytes compressed</span>
                                <span class="field-size">Ready for decompression</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Step 2: GZIP Decompression -->
                    <div class="packet-layer compression-layer">
                        <div class="layer-header">
                            <span class="layer-name">üì¶ Step 2: GZIP Decompression</span>
                            <span class="layer-size">+35 bytes restored</span>
                        </div>
                        <div class="header-details">
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="GZIP magic number verification confirms this is compressed data.">Magic Verification</span>:</span>
                                <span class="field-value">‚úì 0x1F8B</span>
                                <span class="field-size">Valid GZIP</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Compression method verification ensures proper decompression algorithm.">Method Check</span>:</span>
                                <span class="field-value">Deflate (0x08)</span>
                                <span class="field-size">Supported</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="CRC32 checksum verification ensures data integrity after decompression.">CRC32 Check</span>:</span>
                                <span class="field-value">‚úì 0x9E3779B9</span>
                                <span class="field-size">Valid</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Original size verification ensures complete decompression.">Size Verification</span>:</span>
                                <span class="field-value">180 bytes expected</span>
                                <span class="field-size">Matches</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Decompression restores the original SMTP message from compressed form.">Decompressed SMTP</span>:</span>
                                <span class="field-value">180 bytes (was 145)</span>
                                <span class="field-size">+35 bytes</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="packet-total">
                    <strong>Presentation Layer Output:</strong> <span>180 bytes</span>
                    <span class="breakdown">(Received: 173 ‚Üí Decrypted: 145 ‚Üí Decompressed: 180)</span>
                    <div class="efficiency-note">
                        <span class="tooltip" data-tooltip="Successfully restored original data size while benefiting from compressed transmission efficiency.">
                            ‚úÖ Original Data Restored: +7 bytes expansion (from compressed transmission)
                        </span>
                    </div>
                </div>
            </div>

            <div class="explanation-box">
                <h4>üîêüì¶ Decryption & Decompression Steps</h4>
                <p><strong><span class="tooltip" data-tooltip="Record validation ensures the TLS record is properly formatted and contains compressed application data.">TLS Record Validation</span>:</strong> Verifies TLS record type, version compatibility, and encryption integrity.</p>
                <p><strong><span class="tooltip" data-tooltip="Key retrieval and authentication verification using GMAC ensures secure decryption.">Secure Decryption</span>:</strong> Uses session key and validates GMAC tag for authenticated decryption.</p>
                <p><strong><span class="tooltip" data-tooltip="Compressed data extraction provides the GZIP-compressed payload for decompression.">Compressed Data Extraction</span>:</strong> Extracts compressed SMTP data from decrypted TLS payload.</p>
                <p><strong><span class="tooltip" data-tooltip="GZIP header validation ensures proper decompression algorithm and parameters.">Compression Format Validation</span>:</strong> Verifies GZIP magic number, method, and integrity checksums.</p>
                <p><strong><span class="tooltip" data-tooltip="Deflate decompression restores the original data size and content.">Data Expansion</span>:</strong> Decompresses data using deflate algorithm to restore original SMTP message.</p>
                <p><strong><span class="tooltip" data-tooltip="Final integrity verification ensures the decompressed data matches the original.">Integrity Verification</span>:</strong> Validates CRC32 checksum and original size to ensure complete restoration.</p>
            </div>

            <div class="size-indicator">
                üì• Processed: <span>173 bytes</span> ‚Üí Output: <span>180 bytes</span> (Original data fully restored)
                <div class="efficiency-breakdown">
                    <span class="encryption-overhead">üîê Decryption: -28 bytes</span> | 
                    <span class="compression-savings">üì¶ Decompression: +35 bytes</span> | 
                    <span class="net-result">‚úÖ Result: Original 180 bytes restored</span>
                </div>
            </div>
        </div>

        <!-- Slide 7: Application Layer Reception -->
        <div class="slide">
            <h2>Layer 7: <span class="tooltip" data-tooltip="The Application Layer at the destination processes the SMTP message and extracts the user's original data.">Application Layer Reception</span> - SMTP Message Processing</h2>
            
            <div class="process-indicator">
                üì• RECEPTION: Processing SMTP Message
            </div>
            
            <div class="data-flow-diagram">
                <div class="layer-visualization">
                    <div class="layer-box layer-7 active">Application<br>Layer 7</div>
                    <div class="data-representation">
                        <div class="header-section">üìß <span class="tooltip" data-tooltip="SMTP message processing extracts headers, validates format, and delivers the user's message.">SMTP Processing</span> - Extracting User Message</div>
                        <div class="binary-data"><span class="tooltip" data-tooltip="Original user data restored to readable format.">Message Restored</span>: 01001000 01101001</div>
                        <div class="hex-data"><span class="tooltip" data-tooltip="Hexadecimal representation of the user's original message.">Final Hex</span>: 48 69</div>
                        <div class="user-data">‚úÖ Original message: "<span id="final-user-data">Hi</span>"</div>
                    </div>
                </div>
            </div>

            <div class="packet-visualization">
                <h4>üìß SMTP Message Processing</h4>
                <div class="complete-packet-view">
                    <div class="packet-layer layer-7-packet">
                        <div class="layer-header">
                            <span class="layer-name">üìß Application Layer Processing</span>
                            <span class="layer-size">178 bytes removed</span>
                        </div>
                        <div class="header-details">
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="From header processing identifies the message sender.">From Processing</span>:</span>
                                <span class="field-value">user@company.com</span>
                                <span class="field-size">Sender ID</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="To header verification confirms message destination.">To Verification</span>:</span>
                                <span class="field-value">‚úì friend@example.com</span>
                                <span class="field-size">Correct recipient</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Subject line extraction for message organization.">Subject</span>:</span>
                                <span class="field-value">Network Demo</span>
                                <span class="field-size">Message topic</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Content type validation ensures proper message interpretation.">Content-Type</span>:</span>
                                <span class="field-value">text/plain</span>
                                <span class="field-size">Format</span>
                            </div>
                            <div class="header-field">
                                <span class="field-label"><span class="tooltip" data-tooltip="Message delivery timestamp processing.">Date Processing</span>:</span>
                                <span class="field-value">Mon, 27 Jul 2025</span>
                                <span class="field-size">Timestamp</span>
                            </div>
                        </div>
                    </div>
                    <div class="packet-layer user-message-layer">
                        <div class="layer-header">
                            <span class="layer-name">üí¨ User's Original Message</span>
                            <span class="layer-size">2 bytes</span>
                        </div>
                        <div class="final-message">
                            <div class="message-display">
                                "<span id="final-message-content">Hi</span>"
                            </div>
                            <div class="message-stats">
                                <span class="tooltip" data-tooltip="The original 2-byte message that traveled through all 7 OSI layers.">‚úÖ Mission Accomplished!</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="packet-total">
                    <strong>Final Result:</strong> <span>2 bytes</span>
                    <span class="breakdown">User's original message successfully delivered!</span>
                </div>
            </div>

            <div class="explanation-box">
                <h4>üìß Final Message Processing</h4>
                <p><strong><span class="tooltip" data-tooltip="Header parsing extracts all SMTP metadata for proper message handling.">Header Parsing</span>:</strong> Extracts sender, recipient, subject, and formatting information.</p>
                <p><strong><span class="tooltip" data-tooltip="Content validation ensures the message format is correct and readable.">Content Validation</span>:</strong> Verifies message format and encoding.</p>
                <p><strong><span class="tooltip" data-tooltip="Message extraction isolates the user's original content from protocol overhead.">Message Extraction</span>:</strong> Isolates user's original message from protocol headers.</p>
                <p><strong><span class="tooltip" data-tooltip="Final delivery presents the message to the receiving application or user.">Final Delivery</span>:</strong> Presents message to receiving application or user.</p>
            </div>

            <div class="size-indicator">
                üì• Processed: <span>180 bytes</span> ‚Üí Output: <span>2 bytes</span> (178 bytes protocol overhead removed)
            </div>
        </div>

        <!-- Slide 8: Complete Summary -->
        <div class="slide">
            <h2>üéâ Reception Complete Summary</h2>
            
            <div class="technical-details">
                <h4>üìä Complete Reception Statistics</h4>
                <div class="field-breakdown">
                    <div class="field-name">Received Message</div>
                    <div class="field-value">"<span id="final-summary-message">Hi</span>"</div>
                    <div class="field-purpose"><span id="final-original-size">2 bytes</span> of user data</div>
                    
                    <div class="field-name">Total Received</div>
                    <div class="field-value"><span id="final-total-size">294 bytes</span></div>
                    <div class="field-purpose">Complete network packet</div>
                    
                    <div class="field-name">Infrastructure Overhead</div>
                    <div class="field-value"><span id="final-overhead">292 bytes</span></div>
                    <div class="field-purpose">Required for global reliability</div>
                    
                    <div class="field-name">Success Rate</div>
                    <div class="field-value">99.9%+</div>
                    <div class="field-purpose">Modern internet reliability</div>
                </div>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr; gap: 20px; margin: 30px 0;">
                <div class="reception-process">
                    <h4>üì• Enhanced Reception Analysis</h4>
                    <p><strong>Layer 1:</strong> Signal decoding with electrical/optical conversion (274 bytes extracted)</p>
                    <p><strong>Layer 2:</strong> Frame processing with MAC address verification (256 bytes extracted)</p>
                    <p><strong>Layer 3:</strong> Packet routing with IP address validation (236 bytes extracted)</p>
                    <p><strong>Layer 4:</strong> Segment reconstruction with reliability verification (216 bytes extracted)</p>
                    <p><strong>Layer 5:</strong> Session context management and state restoration (208 bytes extracted)</p>
                    <p><strong>Layer 6:</strong> Decryption and decompression with integrity checking (180 bytes restored)</p>
                    <p><strong>Layer 7:</strong> Message extraction and application delivery (2 bytes final message)</p>
                </div>
            </div>
            
            <div class="why-important">
                <h4>üåç The Power of Standardized Reception</h4>
                <p><strong>Universal Compatibility:</strong> These standards enable any device to receive and process data from any other device globally.</p>
                <p><strong>Reliable Processing:</strong> Multiple layers of error checking ensure your data is processed correctly.</p>
                <p><strong>Security Validation:</strong> Built-in decryption and authentication verify secure communications.</p>
                <p><strong>Perfect Reconstruction:</strong> Layer-by-layer processing perfectly reconstructs the original message.</p>
            </div>

            <div class="transmission-indicator">
                üéØ Congratulations! You now understand how your "<span id="celebration-message">Hi</span>" message was successfully received and processed through the complete OSI model!
            </div>
        </div>
    </div>

    <script src="osi_model_script.js"></script>
    <script>
        // Adjust for receiver-only slideshow
        class OSIReceiverAnimation extends OSIModelAnimation {
            constructor() {
                super();
                this.totalSlides = 8;  // Only 8 slides for receiver
            }
        }

        // Override the global initialization for receiver
        window.addEventListener('load', function() {
            console.log('Window loaded, checking OSI receiver animation...');
            
            // Ensure at least the first slide is visible
            const firstSlide = document.querySelector('.slide');
            if (firstSlide && !firstSlide.classList.contains('active')) {
                firstSlide.classList.add('active');
                firstSlide.style.display = 'block';
            }
            
            // Initialize receiver animation or use fallback
            try {
                osiAnimation = new OSIReceiverAnimation();
                console.log('OSI receiver animation initialized successfully');
            } catch (error) {
                console.log('OSI receiver animation failed, using fallback...', error);
                
                let currentSlide = 1;
                const totalSlides = 8;
                
                window.changeSlide = function(direction) {
                    const slides = document.querySelectorAll('.slide');
                    const newSlide = currentSlide + direction;
                    
                    if (newSlide >= 1 && newSlide <= totalSlides) {
                        slides[currentSlide - 1].classList.remove('active');
                        slides[currentSlide - 1].style.display = 'none';
                        
                        currentSlide = newSlide;
                        slides[currentSlide - 1].classList.add('active');
                        slides[currentSlide - 1].style.display = 'block';
                        
                        const counter = document.getElementById('current-slide');
                        if (counter) counter.textContent = currentSlide;
                        
                        const progress = (currentSlide / totalSlides) * 100;
                        const progressFill = document.getElementById('progress-fill');
                        if (progressFill) progressFill.style.width = progress + '%';
                    }
                };
                
                window.restartSlideshow = function() {
                    const slides = document.querySelectorAll('.slide');
                    slides.forEach(slide => {
                        slide.classList.remove('active');
                        slide.style.display = 'none';
                    });
                    currentSlide = 1;
                    slides[0].classList.add('active');
                    slides[0].style.display = 'block';
                    
                    const counter = document.getElementById('current-slide');
                    if (counter) counter.textContent = currentSlide;
                    
                    const progressFill = document.getElementById('progress-fill');
                    if (progressFill) progressFill.style.width = '12.5%';
                };
                
                // Add event listeners to navigation buttons
                const prevBtn = document.getElementById('prevBtn');
                const nextBtn = document.getElementById('nextBtn');
                const restartBtn = document.querySelector('.nav-btn.restart');
                
                if (prevBtn) prevBtn.onclick = () => changeSlide(-1);
                if (nextBtn) nextBtn.onclick = () => changeSlide(1);
                if (restartBtn) restartBtn.onclick = () => restartSlideshow();
            }
        });
    </script>
</body>
</html>
